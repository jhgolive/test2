<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>네이버 뉴스 보기</title>
</head>
<body>
  <h1>네이버 뉴스 확인</h1>
  <input type="text" id="query" placeholder="검색어 입력">
  <button id="loadBtn">뉴스 불러오기</button>
  <ul id="newsList"></ul>

  <script>
    const btn = document.getElementById('loadBtn');
    btn.addEventListener('click', async () => {
      const query = document.getElementById('query').value || "삼성";
      const url = `https://news-production-ba64.up.railway.app/news?query=${encodeURIComponent(query)}&display=5`;

      try {
        const res = await fetch(url);
        const data = await res.json();
        const list = document.getElementById('newsList');
        list.innerHTML = "";

        data.items.forEach(item => {
          const li = document.createElement('li');
          li.innerHTML = `<a href="${item.link}" target="_blank">${item.title}</a>`;
          list.appendChild(li);
        });
      } catch (err) {
        alert("뉴스 불러오기 실패");
        console.error(err);
      }
    });
  </script>
</body>
</html>
